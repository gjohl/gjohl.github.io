<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Gurpreet Johl">
<meta name="dcterms.date" content="2025-01-27">
<meta name="description" content="Part 1 of 1: No Sequel">

<title>Gurpreet Johl - SQL</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Gurpreet Johl</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../projects.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../blog.html"> 
<span class="menu-text">Notes</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/gjohl"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/gurpreetjohl"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/gurpreetjohl"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">SQL</h1>
                  <div>
        <div class="description">
          Part 1 of 1: No Sequel
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">InterviewPrep</div>
                <div class="quarto-category">Software</div>
                <div class="quarto-category">DataEngineering</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Gurpreet Johl </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">January 27, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#sql-overview" id="toc-sql-overview" class="nav-link active" data-scroll-target="#sql-overview">1. SQL Overview</a>
  <ul class="collapse">
  <li><a href="#sql-and-rdbms" id="toc-sql-and-rdbms" class="nav-link" data-scroll-target="#sql-and-rdbms">1.1. SQL and RDBMS</a></li>
  <li><a href="#sql-flavours" id="toc-sql-flavours" class="nav-link" data-scroll-target="#sql-flavours">1.2. SQL Flavours</a></li>
  <li><a href="#postgresql" id="toc-postgresql" class="nav-link" data-scroll-target="#postgresql">1.3. PostgreSQL</a></li>
  </ul></li>
  <li><a href="#basic-sql-commands" id="toc-basic-sql-commands" class="nav-link" data-scroll-target="#basic-sql-commands">2. Basic SQL Commands</a>
  <ul class="collapse">
  <li><a href="#select" id="toc-select" class="nav-link" data-scroll-target="#select">2.1. SELECT</a></li>
  <li><a href="#where" id="toc-where" class="nav-link" data-scroll-target="#where">2.2. WHERE</a></li>
  <li><a href="#combining-conditions" id="toc-combining-conditions" class="nav-link" data-scroll-target="#combining-conditions">2.3. Combining Conditions</a></li>
  <li><a href="#between" id="toc-between" class="nav-link" data-scroll-target="#between">2.4. BETWEEN</a></li>
  <li><a href="#in" id="toc-in" class="nav-link" data-scroll-target="#in">2.5. IN</a></li>
  <li><a href="#like" id="toc-like" class="nav-link" data-scroll-target="#like">2.6. LIKE</a></li>
  <li><a href="#order-by" id="toc-order-by" class="nav-link" data-scroll-target="#order-by">2.7. ORDER BY</a></li>
  </ul></li>
  <li><a href="#intermediate-sql-commands" id="toc-intermediate-sql-commands" class="nav-link" data-scroll-target="#intermediate-sql-commands">3. Intermediate SQL Commands</a>
  <ul class="collapse">
  <li><a href="#aggregate-functions" id="toc-aggregate-functions" class="nav-link" data-scroll-target="#aggregate-functions">3.1. Aggregate Functions</a></li>
  <li><a href="#group-by" id="toc-group-by" class="nav-link" data-scroll-target="#group-by">3.2. GROUP BY</a></li>
  <li><a href="#having" id="toc-having" class="nav-link" data-scroll-target="#having">3.3. HAVING</a></li>
  <li><a href="#distinct" id="toc-distinct" class="nav-link" data-scroll-target="#distinct">3.4. DISTINCT</a></li>
  <li><a href="#arithmetic" id="toc-arithmetic" class="nav-link" data-scroll-target="#arithmetic">3.5. Arithmetic</a></li>
  <li><a href="#mathematical-functions" id="toc-mathematical-functions" class="nav-link" data-scroll-target="#mathematical-functions">3.6. Mathematical Functions</a></li>
  <li><a href="#division" id="toc-division" class="nav-link" data-scroll-target="#division">3.7. Division</a></li>
  <li><a href="#nulls" id="toc-nulls" class="nav-link" data-scroll-target="#nulls">3.8. Nulls</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="sql-overview" class="level1">
<h1>1. SQL Overview</h1>
<section id="sql-and-rdbms" class="level2">
<h2 class="anchored" data-anchor-id="sql-and-rdbms">1.1. SQL and RDBMS</h2>
<p>Structured Query Language (SQL) is used to manage and query data stored in a <strong>Relational Database Management System (RDMBS)</strong>. Essentially, put data in tables and get it out again.</p>
<p>An RDMBS organises data into tables with defined schemas (column names and data types).</p>
<p>SQL is a <em>declarative</em> language. You specify what you want to happen, not how to achieve it. The SQL query engine optimises how the query run internally, e.g.&nbsp;what order to execute commands, what indexes to use.</p>
</section>
<section id="sql-flavours" class="level2">
<h2 class="anchored" data-anchor-id="sql-flavours">1.2. SQL Flavours</h2>
<p>There are different “flavours” of SQL. For example, MySQL, PostegreSQL, SQLite, SQL Server. These are often, incorrectly, used interchangeably with SQL. SQL is a general, high-level language for querying RDMBSes.</p>
<p>The “flavours” are each a specific RDBMS which you query with the corresponding language. Postgres is an RDBMS which you can query by writing PostgreSQL. MySQL is and RDBMS which you can query by writing MySQL. Etc. In practice, the difference is pretty minimal. If you can use one, you’ll learn the others pretty quickly.</p>
</section>
<section id="postgresql" class="level2">
<h2 class="anchored" data-anchor-id="postgresql">1.3. PostgreSQL</h2>
<p>We use PostgreSQL and its associated Postgres RDBMS.</p>
<p>Some of the advantages of PostgreSQL:</p>
<ul>
<li><strong>Popularity</strong>: One of the most popular behind MySQL</li>
<li><strong>Open Source</strong>: BSD-style license is not too restrictive</li>
<li><strong>Extensible</strong>: Postgres has extensions like PostGIS for geospatial data, etc</li>
<li><strong>ANSI Compliant</strong>: American National Standards Institute (ANSI) define standards and PostgreSQL mostly conforms to these. One of the least quirky flavours of SQL.</li>
</ul>
</section>
</section>
<section id="basic-sql-commands" class="level1">
<h1>2. Basic SQL Commands</h1>
<section id="select" class="level2">
<h2 class="anchored" data-anchor-id="select">2.1. SELECT</h2>
<p>Use <code>SELECT</code> to read specific columns (or all with <code>*</code>) from a given table.</p>
<pre class="postgresql"><code>SELECT column1, column2
FROM table_name;</code></pre>
<p>We can optional use <code>LIMIT</code> to return a set number of rows. This can be helpful if we’re querying a massive table that might be a huge query.</p>
<pre class="postgresql"><code>SELECT *
FROM table_name
LIMIT 10</code></pre>
<p>We can use the <code>AS</code> keyword to alias a column name.</p>
<pre class="postgresql"><code>SELECT column1, column2 AS skibidi  -- using a stupid alias
FROM table_name;</code></pre>
<p>We can also add comments with <code>--</code> as above.</p>
</section>
<section id="where" class="level2">
<h2 class="anchored" data-anchor-id="where">2.2. WHERE</h2>
<p>Use <code>WHERE</code> to filter the result on a specific condition. Conditions can be: <code>=</code>, <code>!=</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code></p>
<pre class="postgresql"><code>SELECT column1, column2
FROM table_name
WHERE condition;</code></pre>
</section>
<section id="combining-conditions" class="level2">
<h2 class="anchored" data-anchor-id="combining-conditions">2.3. Combining Conditions</h2>
<p>Use logical operators <code>AND</code>, <code>OR</code>, <code>NOT</code> to chain multiple conditions.</p>
<pre class="postgresql"><code>SELECT *
FROM table
WHERE condition1
  AND condition2
  AND NOT condition3;</code></pre>
</section>
<section id="between" class="level2">
<h2 class="anchored" data-anchor-id="between">2.4. BETWEEN</h2>
<p>The <code>BETWEEN</code> operator can also be used as a condition, and is equivalent to a combination of &gt;= AND &lt;=. Note that both sides are inclusive.</p>
<p>For example, the following <code>BETWEEN</code> condition:</p>
<pre class="postgresql"><code>SELECT column1, column2
FROM table_name
WHERE column1 BETWEEN 0 AND 100;</code></pre>
<p>is equivalent to</p>
<pre class="postgresql"><code>SELECT column1, column2
FROM table_name
WHERE column1 &gt;= 0 AND column2 &lt;= 100;</code></pre>
</section>
<section id="in" class="level2">
<h2 class="anchored" data-anchor-id="in">2.5. IN</h2>
<p>The <code>IN</code> operator is another implicit combined condition. It saves us the hassle of writing out multiple <code>OR</code> conditions.</p>
<p>For example, the following <code>IN</code> condition:</p>
<pre class="postgresql"><code>SELECT column1, column2
FROM table_name
WHERE column1 (1, 2);</code></pre>
<p>is equivalent to</p>
<pre class="postgresql"><code>SELECT column1, column2
FROM table_name
WHERE column1 = 1 OR column1 = 2;</code></pre>
</section>
<section id="like" class="level2">
<h2 class="anchored" data-anchor-id="like">2.6. LIKE</h2>
<p>The <code>LIKE</code> operator is another implicit condition. Similarly to <code>IN</code>, it save us the hassle of writing out multiple <code>OR</code> conditions.</p>
<p>It allows us to match patterns using the wildcards <code>_</code> (to represent a single character) or <code>%</code> (to represent arbitrary number of characters).</p>
<pre class="postgresql"><code>SELECT product_id,
       manufacturer,
       drug
FROM pharmacy_sales
WHERE drug LIKE '%Relief%';</code></pre>
<p>We can use multiple underscores to match a specific number of unknown characters. For example, this will match “a” followed by any 3 characters.</p>
<pre class="postgresql"><code>WHERE word LIKE 'a___'</code></pre>
<p>The wildcards can be at multiple points in the pattern, e.g.</p>
<pre class="postgresql"><code>WHERE word LIKE 'f_c_'</code></pre>
</section>
<section id="order-by" class="level2">
<h2 class="anchored" data-anchor-id="order-by">2.7. ORDER BY</h2>
<p>The order of rows saved in the database is not guaranteed. Executing the same SELECT twice in a row can give a different ordering.</p>
<p>If we want a specific order, we can specify the <code>ORDER BY</code> column(s).</p>
<pre class="postgresql"><code>SELECT column1, column2
FROM table_name
ORDER BY column1;</code></pre>
<p>By default, this is in ascending order (<code>ASC</code>). We can pass <code>DESC</code> to instead return items in descending order. This can be column-specific.</p>
<pre class="postgresql"><code>SELECT column1, column2
FROM table_name
ORDER BY column1 ASC, column2 DESC;</code></pre>
<p>We can also pass the column numbers rather than names.</p>
<pre class="postgresql"><code>SELECT policy_holder_id, call_category, call_received
FROM callers
ORDER BY 1,3 DESC;</code></pre>
<p>We can use <code>ORDER BY</code> in conjunction with <code>LIMIT</code> where we need the top N highest/lowest results. We can also use <code>OFFSET</code> to skip a number of results.</p>
<p>For example, we can skip the first 10 rows and then return the next 5, so the following query returns the 11th-15th ordered results.</p>
<pre class="postgresql"><code>SELECT *
FROM callers
ORDER BY call_received DESC
OFFSET 10
LIMIT 5;</code></pre>
</section>
</section>
<section id="intermediate-sql-commands" class="level1">
<h1>3. Intermediate SQL Commands</h1>
<section id="aggregate-functions" class="level2">
<h2 class="anchored" data-anchor-id="aggregate-functions">3.1. Aggregate Functions</h2>
<p>We can aggregate data with <code>SUM</code>, <code>MIN</code>, <code>MAX</code>, <code>AVG</code>, <code>COUNT</code>.</p>
<pre class="postgresql"><code>SELECT COUNT(*)
FROM table_name;</code></pre>
</section>
<section id="group-by" class="level2">
<h2 class="anchored" data-anchor-id="group-by">3.2. GROUP BY</h2>
<p>The aggregate functions can be run on the entire table as above. But they come into their own when grouping by particular fields.</p>
<p>We can <code>GROUP BY</code> one or more columns.</p>
<pre class="postgresql"><code>SELECT
category,
    SUM(spend) AS total_spend
FROM product_spend
GROUP BY category;</code></pre>
</section>
<section id="having" class="level2">
<h2 class="anchored" data-anchor-id="having">3.3. HAVING</h2>
<p>Suppose we want to filter the data on the aggregated value. For example, in the previous example, we want to only return categories with <code>total_spend &gt; 10</code>.</p>
<p>Naively, we might try to use <code>WHERE</code>. But <code>WHERE</code> filters individual rows. Trying this will give some variation of the following error message</p>
<blockquote class="blockquote">
<p>aggregate functions are not allowed in WHERE</p>
</blockquote>
<p>The <code>HAVING</code> clause is essentially the analog of <code>WHERE</code>, but operates on grouped data rather than individual rows.</p>
<pre class="postgresql"><code>SELECT ticker, AVG(open)
FROM stock_prices
GROUP BY ticker
HAVING AVG(open) &gt; 200;</code></pre>
</section>
<section id="distinct" class="level2">
<h2 class="anchored" data-anchor-id="distinct">3.4. DISTINCT</h2>
<p>The <code>DISTINCT</code> keyword can specify that only rows where the column(s) are distinct. If we pass multiple columns, we will get all of the distinct pairs (or tuples in the general case) of those columns.</p>
<pre class="postgresql"><code>SELECT DISTINCT col1, col2
FROM table_name;</code></pre>
<p><code>DISTINCT</code> can be combined with aggregate functions, typically <code>COUNT</code>.</p>
<pre class="postgresql"><code>SELECT COUNT(DISTINCT user_id)
FROM trades;</code></pre>
</section>
<section id="arithmetic" class="level2">
<h2 class="anchored" data-anchor-id="arithmetic">3.5. Arithmetic</h2>
<p>We can use standard mathematical operations <code>+</code>, <code>-</code>, <code>/</code>, <code>*</code>, <code>^</code>, <code>%</code></p>
<pre class="postgresql"><code>SELECT salary + bonus AS total_compensation
FROM employees;</code></pre>
<p>We have the modulus operator <code>%</code> which returns the remainder of a division. This is often helpful in problems where we need to find odd or even values.</p>
<pre class="postgresql"><code>SELECT *
FROM measurements
WHERE measurement_num % 2 = 1</code></pre>
<p>These operations follow the usual BODMAS rule (or PEMDAS if you’re an asshole).</p>
</section>
<section id="mathematical-functions" class="level2">
<h2 class="anchored" data-anchor-id="mathematical-functions">3.6. Mathematical Functions</h2>
<p>The following built-in maths functions are useful:</p>
<ul>
<li><code>ABS()</code> - absolute value</li>
<li><code>CEIL()</code> - round up</li>
<li><code>FLOOR()</code> - round down</li>
<li><code>ROUND(column_name, N)</code> - round to N decimal places</li>
<li><code>POWER(column_name, exponent)</code> - equivalent to <code>column_name ^ exponent</code></li>
<li><code>MOD(column_name, divisor) - equivalent to</code>column_name % divisor`</li>
</ul>
</section>
<section id="division" class="level2">
<h2 class="anchored" data-anchor-id="division">3.7. Division</h2>
<p>Division is SQL can be deceptively tricky. Naively, we might think we just do <code>col1 / col2</code>, job done.</p>
<p>But in practice, we can get weird results depending on the data types of the numerator or denominator.</p>
<table class="table">
<thead>
<tr class="header">
<th>Input</th>
<th>SQL Output</th>
<th>Expected</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>SELECT 10/4</code></td>
<td>2</td>
<td>2.5</td>
</tr>
<tr class="even">
<td><code>SELECT 10/2</code></td>
<td>5</td>
<td>5</td>
</tr>
<tr class="odd">
<td><code>SELECT 10/6</code></td>
<td>1</td>
<td>1.6666666667</td>
</tr>
<tr class="even">
<td><code>SELECT 10.0/4</code></td>
<td>2.5000000000000000</td>
<td>2.5</td>
</tr>
<tr class="odd">
<td><code>SELECT 10/3.0</code></td>
<td>3.3333333333333333</td>
<td>3.333333333</td>
</tr>
</tbody>
</table>
<p>We can coerce values to floats by:</p>
<ul>
<li>Using the <code>CAST(column_name AS FLOAT)</code> function</li>
<li>Multiplying <code>* 1.0</code></li>
<li>Explicitly using types with <code>::</code></li>
</ul>
<pre class="postgresql"><code>SELECT 
  CAST(10 AS DECIMAL)/4,
  CAST(10 AS FLOAT)/4,
  10 * 1.0 / 4
  10::DECIMAL / 4</code></pre>
</section>
<section id="nulls" class="level2">
<h2 class="anchored" data-anchor-id="nulls">3.8. Nulls</h2>
<p>A <code>NULL</code> value indicates the <strong>absence of a value</strong>. Missing data is different to data which is populated but empty, like a 0 or an empty string.</p>
<p>We can identify null and non-null values with <code>IS NULL</code> and <code>IS NOT NULL</code>.</p>
<pre class="postgresql"><code>SELECT *
FROM goodreads
WHERE book_title IS NULL;</code></pre>
<p>The <code>COALESCE</code> keyword allows us to pass multiple inputs and return the first non-null value. We can pass multiple columns, or a mix of columns and a hard-coded default value. This makes it useful to fill nulls. Think of it like the pandas <code>fillna</code> method.</p>
<pre><code>SELECT COALESCE(book_rating, 0)  -- fill NULL values with 0
FROM goodreads;</code></pre>
<p>We can also use the <code>IFNULL</code> keyword to fill null values.</p>
<pre class="postgresql"><code>SELECT 
  book_title, 
  IFNULL(book_rating, 0) AS rated_books  - fill NULL values with 0
FROM goodreads;</code></pre>
<p>In the above examples, <code>IFNULL</code> and <code>COALESCE</code> are interchangeable. In general, use <code>COALESCE</code> when checking multiple columns, e.g.&nbsp;<code>COALESCE(col1, col2, col3)</code>. If only checking one column, <code>IFNULL</code> is more concise.</p>
<!-- # N+1. Miscellaneous Points

## N+1.1. Order of Execution

The clauses in a SQL query must be written according to the following
[SQL Order of Execution](https://www.datacamp.com/tutorial/sql-order-of-execution). -->
</section>
</section>
<section id="references" class="level1">
<h1>References</h1>
<ul>
<li>https://datalemur.com/sql-tutorial</li>
<li><a href="https://www.datacamp.com/tutorial/sql-order-of-execution">SQL Order of Execution</a></li>
</ul>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>