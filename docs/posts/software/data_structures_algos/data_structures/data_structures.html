<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Gurpreet Johl">
<meta name="dcterms.date" content="2024-04-17">
<meta name="description" content="An Array of Possibilities, Trie it Out, You’ll Have Heaps of Fun">

<title>Gurpreet Johl - Data Structures</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../">
<script src="../../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="../../../../site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="../../../../site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="../../../../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../../index.html">
    <span class="navbar-title">Gurpreet Johl</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../projects.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../blog.html"> 
<span class="menu-text">Notes</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/gjohl"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/gurpreetjohl"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/gurpreetjohl"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Data Structures</h1>
                  <div>
        <div class="description">
          An Array of Possibilities, Trie it Out, You’ll Have Heaps of Fun
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Engineering</div>
                <div class="quarto-category">ComputerScience</div>
                <div class="quarto-category">InterviewPrep</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Gurpreet Johl </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">April 17, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#data-structures" id="toc-data-structures" class="nav-link active" data-scroll-target="#data-structures">Data Structures</a>
  <ul class="collapse">
  <li><a href="#data-structure-operations" id="toc-data-structure-operations" class="nav-link" data-scroll-target="#data-structure-operations">1. Data Structure Operations</a></li>
  <li><a href="#arrays" id="toc-arrays" class="nav-link" data-scroll-target="#arrays">2. Arrays</a>
  <ul class="collapse">
  <li><a href="#reading-an-array" id="toc-reading-an-array" class="nav-link" data-scroll-target="#reading-an-array">2.1 Reading an Array</a></li>
  <li><a href="#searching-an-array" id="toc-searching-an-array" class="nav-link" data-scroll-target="#searching-an-array">2.2 Searching an Array</a></li>
  <li><a href="#insertion-into-an-array" id="toc-insertion-into-an-array" class="nav-link" data-scroll-target="#insertion-into-an-array">2.3. Insertion into an Array</a></li>
  <li><a href="#deletion-from-an-array" id="toc-deletion-from-an-array" class="nav-link" data-scroll-target="#deletion-from-an-array">2.4. Deletion from an Array</a></li>
  </ul></li>
  <li><a href="#sets" id="toc-sets" class="nav-link" data-scroll-target="#sets">3. Sets</a>
  <ul class="collapse">
  <li><a href="#array-based-sets" id="toc-array-based-sets" class="nav-link" data-scroll-target="#array-based-sets">3.1. Array-based Sets</a></li>
  <li><a href="#hash-sets" id="toc-hash-sets" class="nav-link" data-scroll-target="#hash-sets">3.2. Hash Sets</a></li>
  </ul></li>
  <li><a href="#ordered-arrays" id="toc-ordered-arrays" class="nav-link" data-scroll-target="#ordered-arrays">4. Ordered Arrays</a>
  <ul class="collapse">
  <li><a href="#binary-search" id="toc-binary-search" class="nav-link" data-scroll-target="#binary-search">4.1. Binary Search</a></li>
  </ul></li>
  <li><a href="#hash-tables" id="toc-hash-tables" class="nav-link" data-scroll-target="#hash-tables">5. Hash Tables</a>
  <ul class="collapse">
  <li><a href="#hashing" id="toc-hashing" class="nav-link" data-scroll-target="#hashing">5.1. Hashing</a></li>
  <li><a href="#hash-table-lookups" id="toc-hash-table-lookups" class="nav-link" data-scroll-target="#hash-table-lookups">5.2. Hash Table Lookups</a></li>
  <li><a href="#dealing-with-collisions" id="toc-dealing-with-collisions" class="nav-link" data-scroll-target="#dealing-with-collisions">5.3. Dealing with Collisions</a></li>
  <li><a href="#hash-table-efficiency" id="toc-hash-table-efficiency" class="nav-link" data-scroll-target="#hash-table-efficiency">5.4. Hash Table Efficiency</a></li>
  </ul></li>
  <li><a href="#stacks" id="toc-stacks" class="nav-link" data-scroll-target="#stacks">6. Stacks</a></li>
  <li><a href="#queues" id="toc-queues" class="nav-link" data-scroll-target="#queues">7. Queues</a></li>
  <li><a href="#linked-lists" id="toc-linked-lists" class="nav-link" data-scroll-target="#linked-lists">8. Linked Lists</a>
  <ul class="collapse">
  <li><a href="#implementating-a-node" id="toc-implementating-a-node" class="nav-link" data-scroll-target="#implementating-a-node">8.1. Implementating a Node</a></li>
  <li><a href="#implementing-a-linked-list" id="toc-implementing-a-linked-list" class="nav-link" data-scroll-target="#implementing-a-linked-list">8.2. Implementing a Linked List</a></li>
  <li><a href="#reading-from-a-linked-list" id="toc-reading-from-a-linked-list" class="nav-link" data-scroll-target="#reading-from-a-linked-list">8.3. Reading from a Linked List</a></li>
  <li><a href="#searching-a-linked-list" id="toc-searching-a-linked-list" class="nav-link" data-scroll-target="#searching-a-linked-list">8.4. Searching a Linked List</a></li>
  <li><a href="#inserting-into-a-linked-list" id="toc-inserting-into-a-linked-list" class="nav-link" data-scroll-target="#inserting-into-a-linked-list">8.5. Inserting into a Linked List</a></li>
  <li><a href="#deleting-from-a-linked-list" id="toc-deleting-from-a-linked-list" class="nav-link" data-scroll-target="#deleting-from-a-linked-list">8.6. Deleting from a Linked List</a></li>
  <li><a href="#doubly-linked-lists" id="toc-doubly-linked-lists" class="nav-link" data-scroll-target="#doubly-linked-lists">8.7. Doubly Linked Lists</a></li>
  </ul></li>
  <li><a href="#binary-search-trees" id="toc-binary-search-trees" class="nav-link" data-scroll-target="#binary-search-trees">9. Binary Search Trees</a>
  <ul class="collapse">
  <li><a href="#trees" id="toc-trees" class="nav-link" data-scroll-target="#trees">9.1. Trees</a></li>
  <li><a href="#binary-search-tree-rules" id="toc-binary-search-tree-rules" class="nav-link" data-scroll-target="#binary-search-tree-rules">9.2. Binary Search Tree Rules</a></li>
  <li><a href="#implementation" id="toc-implementation" class="nav-link" data-scroll-target="#implementation">9.3. Implementation</a></li>
  <li><a href="#searching-a-binary-search-tree" id="toc-searching-a-binary-search-tree" class="nav-link" data-scroll-target="#searching-a-binary-search-tree">9.4. Searching a Binary Search Tree</a></li>
  <li><a href="#complexity" id="toc-complexity" class="nav-link" data-scroll-target="#complexity">9.5. Complexity</a></li>
  <li><a href="#insertion" id="toc-insertion" class="nav-link" data-scroll-target="#insertion">9.6. Insertion</a></li>
  <li><a href="#deletion" id="toc-deletion" class="nav-link" data-scroll-target="#deletion">9.7. Deletion</a></li>
  <li><a href="#inorder-traversal" id="toc-inorder-traversal" class="nav-link" data-scroll-target="#inorder-traversal">9.8. Inorder Traversal</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="data-structures" class="level1">
<h1>Data Structures</h1>
<section id="data-structure-operations" class="level2">
<h2 class="anchored" data-anchor-id="data-structure-operations">1. Data Structure Operations</h2>
<p>There are common ways that we can interact with different data structures.</p>
<p>It is useful to frame the appropriateness of a data structure for a given based on the speed of the operations that are required most for that task.</p>
<ul>
<li>Read: Look up the value at a particular location in the data structure</li>
<li>Search: Look for a particular value in the data structure.</li>
<li>Insert: Add a new value to the data structure.</li>
<li>Delete: Remove a value from the data structure.</li>
</ul>
<p>Reading is “find by key”, searching is “find by value”.</p>
</section>
<section id="arrays" class="level2">
<h2 class="anchored" data-anchor-id="arrays">2. Arrays</h2>
<p>An array is a list of elements.</p>
<p>It is stored in memory as a block of contiguous memory addresses. When the array is declared, the head of the array is stored, i.e.&nbsp;the memory address of the first elelment.</p>
<p>The <strong>size</strong> of an array is the number of elements in the array. The <strong>index</strong> denotes where a particular piece of data resides in that array.</p>
<table class="table">
<thead>
<tr class="header">
<th>Operation</th>
<th>Complexity (Worst)</th>
<th>Complexity (Best)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Read</td>
<td>O(1)</td>
<td>O(1)</td>
</tr>
<tr class="even">
<td>Search</td>
<td>O(N)</td>
<td>O(1)</td>
</tr>
<tr class="odd">
<td>Insertion</td>
<td>O(N)</td>
<td>O(1)</td>
</tr>
<tr class="even">
<td>Deletion</td>
<td>O(N)</td>
<td>O(1)</td>
</tr>
</tbody>
</table>
<section id="reading-an-array" class="level3">
<h3 class="anchored" data-anchor-id="reading-an-array">2.1 Reading an Array</h3>
<p>A computer can look up a given memory address in constant time.</p>
<p>We know the head of the array and the index to look up. So we can read in <strong>O(1)</strong> time.</p>
<p>Example:</p>
<ol type="1">
<li>Head of the array is memory address 1063.</li>
<li>We want to look up index 5.</li>
<li>Read memory address 1068 (because 1063 + 5 = 1068).</li>
</ol>
<blockquote class="blockquote">
<p>If you were asked to raise your right pinky finger, you wouldn’t need to search through all of your fingers to find it</p>
</blockquote>
</section>
<section id="searching-an-array" class="level3">
<h3 class="anchored" data-anchor-id="searching-an-array">2.2 Searching an Array</h3>
<p>A computer has immediate access to all of its memory addresses but does not know ahead of time their <em>contents</em>.</p>
<p>So to find a particular value, we will potentially have to search through every element.</p>
<p>Searching an array is therefore <strong>O(N)</strong>.</p>
</section>
<section id="insertion-into-an-array" class="level3">
<h3 class="anchored" data-anchor-id="insertion-into-an-array">2.3. Insertion into an Array</h3>
<p>The efficiency of inserting into an array depends on <strong>where</strong> in the array you are inserting.</p>
<p>If inserting an element at the end, we simply place the new value at that memory address (assuming the memory address is empty). This is a constant time operation O(1).</p>
<p>But if we insert at any other position, we need to:</p>
<ol type="1">
<li>Shift each of the existing elements to the right of the insert index 1 position rightwards</li>
<li>Insert the new value in the gap created.</li>
</ol>
<p>So to insert at index <span class="math inline">\(i\)</span>, there are <span class="math inline">\(N - i\)</span> elements to shift (Step 1), then 1 more operation to insert the new value (Step 2).</p>
<p>In the worst case - inserting at the start of an array - insertion is <strong>O(N)</strong>.</p>
</section>
<section id="deletion-from-an-array" class="level3">
<h3 class="anchored" data-anchor-id="deletion-from-an-array">2.4. Deletion from an Array</h3>
<p>Similarly, the efficiency of deletion depends on the index being deleted.</p>
<p>If deleting the last element, there is simply 1 operation to clear the memory address, so this is a constant time operation O(1).</p>
<p>But if we delete an element in any other position, we need to:</p>
<ol type="1">
<li>Delete the element. This leaves a gap in the middle of the array.</li>
<li>Shift each of the elements to the right of the gap leftwards, to fill the gap.</li>
</ol>
<p>So to delete at index <span class="math inline">\(i\)</span>, we do 1 operation to delete that element (Step 1), then shift the next <span class="math inline">\(N-i\)</span> elements leftwards (Step 2).</p>
<p>In the worst case - deleting the first element of the array - deletion is <strong>O(N)</strong>.</p>
</section>
</section>
<section id="sets" class="level2">
<h2 class="anchored" data-anchor-id="sets">3. Sets</h2>
<p>A set is a collection of <em>unique</em> elements, i.e.&nbsp;duplicate values are not allowed.</p>
<p>There are different ways of implementing sets: array-based sets and hash-sets are discussed here.</p>
<p>Note that Python already has sets, but we’ll give outline implementations for clarity.</p>
<section id="array-based-sets" class="level3">
<h3 class="anchored" data-anchor-id="array-based-sets">3.1. Array-based Sets</h3>
<p>An array is used to store elements. As with standard arrays, elements are stored in contiguous memory locations, and each element has a unique index.</p>
<p>Example in Python:</p>
<div id="9d00193f" class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> ArraySet:</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.elements <span class="op">=</span> []</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__repr__</span>(<span class="va">self</span>):</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">str</span>(<span class="va">self</span>.elements)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> add(<span class="va">self</span>, element):</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Search the array for `element`, then append it if it is not a duplicate.</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> element <span class="kw">not</span> <span class="kw">in</span> <span class="va">self</span>.elements:</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.elements.append(element)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> remove(<span class="va">self</span>, element):</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Search the array for the value, then remove it.</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> element <span class="kw">in</span> <span class="va">self</span>.elements:</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.elements.remove(element)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> contains(<span class="va">self</span>, element):</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> element <span class="kw">in</span> <span class="va">self</span>.elements</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="5725976b" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>set_arr <span class="op">=</span> ArraySet()</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>set_arr.add(<span class="dv">1</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>set_arr.add(<span class="dv">2</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>set_arr.add(<span class="dv">3</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(set_arr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1, 2, 3]</code></pre>
</div>
</div>
<p>If we try to add a duplicate value it does not get added to the array:</p>
<div id="a151b8f0" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>set_arr.add(<span class="dv">2</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(set_arr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1, 2, 3]</code></pre>
</div>
</div>
<p>The read, search and delete operations for an array-based set are identical to the standard array.</p>
<p><strong>Insert</strong> operations are where array-based sets diverge. We always insert at the end of a set, which is constant time. <em>But</em> we need to search the array every time to ensure the new value is not a duplicate.</p>
<p>So we always need to do a search of all N elements, and then 1 insert operation at the end.</p>
<p>This means even in the best case, insertion into an array-based set is O(N) compared to O(1) when inserting at the end of a standard array.</p>
<p>The reason for using a set is because the use case requires no duplicates, not because it is inherently “quicker” than a standard array.</p>
<table class="table">
<thead>
<tr class="header">
<th>Operation</th>
<th>Complexity (Worst)</th>
<th>Complexity (Best)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Read</td>
<td>O(1)</td>
<td>O(1)</td>
</tr>
<tr class="even">
<td>Search</td>
<td>O(N)</td>
<td>O(1)</td>
</tr>
<tr class="odd">
<td>Insertion</td>
<td>O(N)</td>
<td><strong>O(N)</strong></td>
</tr>
<tr class="even">
<td>Deletion</td>
<td>O(N)</td>
<td>O(1)</td>
</tr>
</tbody>
</table>
</section>
<section id="hash-sets" class="level3">
<h3 class="anchored" data-anchor-id="hash-sets">3.2. Hash Sets</h3>
<p>A hash-based set computes the hash of each element and uses this to store elements.</p>
<p>An example implementation implements the set as key-value pairs where keys are the hash of the elements and values are a placeholder value like True, or an array to handle hash collisions.</p>
<p>When there is a hash collision between mutliple elements, a typical approach is to insert all of these elements as an array under the same hash key.</p>
<p>The worst case scenario is caused by the extreme edge case where hash collisions are so prominent that <em>every</em> element has the same hash, essentially reducing the hash set to an array. This is generally avoided as long as the hash algorithm is decent.</p>
<p>For this reason, the <strong>average</strong> complexity is more meaningful in the table below. (Note that best has been replace with average in the table headings.)</p>
<p>Hash-based sets do not support reading by index, unlike array-based sets. But all other operations are typically constant time.</p>
<table class="table">
<thead>
<tr class="header">
<th>Operation</th>
<th>Complexity (Worst)</th>
<th>Complexity <strong>(Average)</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Read</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr class="even">
<td>Search</td>
<td>O(N)</td>
<td>O(1)</td>
</tr>
<tr class="odd">
<td>Insertion</td>
<td>O(N)</td>
<td>O(1)</td>
</tr>
<tr class="even">
<td>Deletion</td>
<td>O(N)</td>
<td>O(1)</td>
</tr>
</tbody>
</table>
<p>Example in Python:</p>
<div id="323fe1d9" class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> HashSet:</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Use a dict to represent the hash set.</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.elements <span class="op">=</span> {}</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__repr__</span>(<span class="va">self</span>):</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">str</span>(<span class="va">self</span>.elements)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> add(<span class="va">self</span>, element):</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>        <span class="co"># The key is the element and the value is arbitrary.</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>        <span class="co"># There are two extensions we could add here:</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>        <span class="co">#   1. The key should really be the *hash* of the element, not just the element itself.</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>        <span class="co">#      Essentially, this is using an implicit hash function which is just a pass-through:</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>        <span class="co">#      hash_func = lambda x: x</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>        <span class="co">#   2. Handle hash collisions by making the value an array which is appended to in the case of collisions.</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.elements[element] <span class="op">=</span> <span class="va">True</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> remove(<span class="va">self</span>, element):</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> element <span class="kw">in</span> <span class="va">self</span>.elements:</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>            <span class="kw">del</span> <span class="va">self</span>.elements[element]</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> contains(<span class="va">self</span>, element):</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> element <span class="kw">in</span> <span class="va">self</span>.elements</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="d6aa5213" class="cell" data-scrolled="true" data-execution_count="21">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>set_hash <span class="op">=</span> HashSet()</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>set_hash.add(<span class="dv">1</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>set_hash.add(<span class="dv">2</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>set_hash.add(<span class="dv">3</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(set_hash)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{1: True, 2: True, 3: True}</code></pre>
</div>
</div>
<p>If we try to add a duplicate value it simply overwrites the previous value:</p>
<div id="0497783d" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>set_hash.add(<span class="dv">2</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(set_hash)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{1: True, 2: True, 3: True}</code></pre>
</div>
</div>
</section>
</section>
<section id="ordered-arrays" class="level2">
<h2 class="anchored" data-anchor-id="ordered-arrays">4. Ordered Arrays</h2>
<p>These are identical to regular arrays with the additional condition that elements are always ordered.</p>
<p>This obviously relies heavily on efficient sorting. This is a topic unto itself; see notes on sorting for more info.</p>
<p>When <strong>inserting</strong> into an ordered array, we need to:</p>
<ol type="1">
<li>Search for the correct position - Look at each element in turn and compare if the insert element is greater than it</li>
<li>Insert into the array</li>
</ol>
<p>These two terms increase in opposite directions depending on the insert position. The further into the array we need to search (Step 1), the fewer elements we need to shift for the insertion (Step 2).</p>
<section id="binary-search" class="level3">
<h3 class="anchored" data-anchor-id="binary-search">4.1. Binary Search</h3>
<p>In a typical (unordered) array, the only option for searching is a <em>linear search</em>: we loop through each element in turn until we find our target.</p>
<p>For an ordered array, we can improve on this using a <strong>binary search</strong>.</p>
<ol type="1">
<li>Pick the middle element.</li>
<li>If the target value is greater than this, search the right half, otherwise search the left half.</li>
<li>Repeat this recursively until we find our target.</li>
</ol>
<p>This approach splits the search region in half for every constant time comparison operation.</p>
<p>Or put another way, if we doubled the number of elements in the array, the binary search would only have to perform 1 extra step. For <span class="math inline">\(N\)</span> elements we need <span class="math inline">\(log_2(N)\)</span> binary splits.</p>
<p>Therefore, the time complexity is <strong>O(log(N))</strong>.</p>
<div id="00d5950d" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> binary_search(ordered_array, target):</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Perform a binary search for the target value on the given ordered array.</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">    Parameters</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co">    ----------</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co">    ordered_array: list</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co">        The array to search in.</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="co">    target: int</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co">        The target value we are searching for.</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="co">    -------</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="co">    target_index: int</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="co">        The index of the target value.</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="co">        Returns None if the value does not exist in the array.</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Establish the lower and upper bounds of our search.</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Initially, this is the entire array</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>    idx_lower <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>    idx_upper <span class="op">=</span> <span class="bu">len</span>(ordered_array) <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> idx_lower <span class="op">&lt;=</span> idx_upper:</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Find the midpoint between our bounds</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>        idx_midpoint <span class="op">=</span> (idx_upper <span class="op">+</span> idx_lower) <span class="op">//</span> <span class="dv">2</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>        value_at_midpoint <span class="op">=</span> ordered_array[idx_midpoint]</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Compare to our target value and narrow the upper or lower bound accordingly</span></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> value_at_midpoint <span class="op">==</span> target:</span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>            <span class="co"># We have found the target!</span></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> idx_midpoint</span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> value_at_midpoint <span class="op">&lt;</span> target:</span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>            <span class="co"># The target is bigger so must be to the right side</span></span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>            idx_lower <span class="op">=</span> idx_midpoint <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> value_at_midpoint <span class="op">&gt;</span> target:</span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>            <span class="co"># The target is smaller so must be on the left side</span></span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>            idx_upper <span class="op">=</span> idx_midpoint <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>    <span class="co"># If the lower and upper bounds meet we have exhausted the whole array, so the target is not in the array</span></span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">None</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s try this on a few examples.</p>
<div id="39a2fd2f" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>ordered_array <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>, <span class="dv">13</span>, <span class="dv">14</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="f4703523" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>binary_search(ordered_array, <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="35">
<pre><code>4</code></pre>
</div>
</div>
<div id="d8cb4c44" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>binary_search(ordered_array, <span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="36">
<pre><code>9</code></pre>
</div>
</div>
<p>Now a value that’s not in the array:</p>
<div id="7c0945cd" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>binary_search(ordered_array, <span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">
<pre><code>9</code></pre>
</div>
</div>
<p>Compare this with a linear search</p>
<div id="23677ede" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> linear_search(array, target):</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Perform a linear search for the target value on the given array.</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co">    Parameters</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="co">    ----------</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="co">    array: list</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="co">        The array to search in.</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="co">    target: int</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="co">        The target value we are searching for.</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="co">    -------</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a><span class="co">    target_index: int</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="co">        The index of the target value.</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a><span class="co">        Returns None if the value does not exist in the array.</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Loop through every element in the array.</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Note: we should really use enumerate() rather than range(len()) but I wanted to keep this generic </span></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># without too many python-specific helpers</span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> idx <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(array)):</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> array[idx] <span class="op">==</span> target:</span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> idx</span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># If we reach the end of the array without returning a value, then the target does not exist in the array.</span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">None</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s compare how they perform for a reasonably big array with 1 million elements.</p>
<div id="c41d3476" class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>array <span class="op">=</span> [k <span class="cf">for</span> k <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1000000</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="1111529c" class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="op">%%</span>timeit</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>binary_search(array, <span class="dv">987654</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1.13 µs ± 56.9 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)</code></pre>
</div>
</div>
<div id="bb5d3a90" class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="op">%%</span>timeit</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>linear_search(array, <span class="dv">987654</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>15.9 ms ± 320 µs per loop (mean ± std. dev. of 7 runs, 100 loops each)</code></pre>
</div>
</div>
<p>The binary search is ~14000x faster than the linear search!</p>
</section>
</section>
<section id="hash-tables" class="level2">
<h2 class="anchored" data-anchor-id="hash-tables">5. Hash Tables</h2>
<p>Hash tables are key:value pairs. We can look up a the value for a given key in <span class="math inline">\(O(1)\)</span> time.</p>
<p>Also known as hash maps, dictionaries, maps, associative arrays.</p>
<section id="hashing" class="level3">
<h3 class="anchored" data-anchor-id="hashing">5.1. Hashing</h3>
<p>The process of taking characters and converting them to numbers is called <strong>hashing</strong>.</p>
<p>The code that performs this conversion is the <strong>hash function</strong>.</p>
<p>A hash function requires one condition:</p>
<blockquote class="blockquote">
<p>Consistency: A hash function must convert the same string to the same number every time it’s applied.</p>
</blockquote>
<p>In practice, for the hash function to be useful, it should also be collision resistant:</p>
<blockquote class="blockquote">
<p>Collision resistant: Different inputs should hash to different outputs.</p>
</blockquote>
<p>As an extreme example, the following hash function is consistent but not collision resistant:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> crappy_hash(input_str: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""This is the world's worst hash function."""</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="hash-table-lookups" class="level3">
<h3 class="anchored" data-anchor-id="hash-table-lookups">5.2. Hash Table Lookups</h3>
<p>We want to insert the following key:value pair into our hash table:</p>
<pre><code>key = "Name"
value = "Gurp"</code></pre>
<p>Let’s say we have a hash function that is actually good, and in this particular case <code>hash_function(key)</code> returns <code>12</code>.</p>
<p>The hash table will then insert <code>value</code> at memory address <code>12</code> (or more specifically, the memory address of the head of the dictionary + 12).</p>
<p>This means if we ever want to look up the key <code>"Name"</code>, we hash it and immediately know to access memory address 12 and return the value <code>"Gurp"</code>.</p>
<p>So hash table lookups are <span class="math inline">\(O(1)\)</span>.</p>
<p>More specifically, looking up by <strong>key</strong> is <span class="math inline">\(O(1)\)</span>. Searching by <strong>value</strong> is essentially searching through an array, so is <span class="math inline">\(O(N)\)</span>.</p>
</section>
<section id="dealing-with-collisions" class="level3">
<h3 class="anchored" data-anchor-id="dealing-with-collisions">5.3. Dealing with Collisions</h3>
<p>A <strong>collision</strong> occurs when we try to add data to a cell that is already occupied.</p>
<p>One approach to handling this is called <strong>separate chaining</strong>.</p>
<p>Instead of placing a single value in a cell, we place a <em>pointer to an array</em>. This array contains length-2 subarrays where the first element is the key and the second element is the value.</p>
<p>If there are no collisions, a hash table look up is <span class="math inline">\(O(1)\)</span>. In the worst case, ALL keys collide and so we essentially have to search through an array which is <span class="math inline">\(O(N)\)</span>.</p>
</section>
<section id="hash-table-efficiency" class="level3">
<h3 class="anchored" data-anchor-id="hash-table-efficiency">5.4. Hash Table Efficiency</h3>
<p>A hash tables efficiency depends on:</p>
<ol type="1">
<li>How much <strong>data</strong> we’re storing in it</li>
<li>How many <strong>cells</strong> are available</li>
<li>Which <strong>hash function</strong> we use</li>
</ol>
<p>A good hash function (3) should distribute the data (1) evenly across all cells (2).</p>
<p>This ensures the memory is used efficiently while avoiding collisions.</p>
<p>The <strong>load factor</strong> is the ratio of data to cells, and ideally should be around 0.7, i.e.&nbsp;7 elements for every 10 cells.</p>
<table class="table">
<thead>
<tr class="header">
<th>Operation</th>
<th>Complexity (Worst)</th>
<th>Complexity <strong>(Average)</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Read</td>
<td>O(N)</td>
<td>O(1)</td>
</tr>
<tr class="even">
<td>Search</td>
<td>O(N)</td>
<td>Keys: O(1) Values: O(N)</td>
</tr>
<tr class="odd">
<td>Insertion</td>
<td>O(N)</td>
<td>O(1)</td>
</tr>
<tr class="even">
<td>Deletion</td>
<td>O(N)</td>
<td>O(1)</td>
</tr>
</tbody>
</table>
<p>The worst case corresponds to when all keys collide, reducing the hash table to an array effectively.</p>
</section>
</section>
<section id="stacks" class="level2">
<h2 class="anchored" data-anchor-id="stacks">6. Stacks</h2>
<p>A stack is stored in memory the same as an array, but it has 3 constraints:</p>
<ol type="1">
<li>Data can only be <strong>inserted</strong> at the end (push)</li>
<li>Data can only be <strong>deleted</strong> from the end (pop)</li>
<li>Only the last element can be <strong>read</strong> (peek)</li>
</ol>
<blockquote class="blockquote">
<p>Read, insert and delete can only happen at the end.</p>
</blockquote>
<p>This makes them useful as Last-In First-Out (LIFO) data stores: the last item pushed the the stack is the first to be popped.</p>
<p>Example in Python:</p>
<div id="d91f1b89" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Stack:</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, initial_elements: <span class="bu">list</span> <span class="op">=</span> []):</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>        <span class="co"># We can pass a list to initialise the Stack</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.data <span class="op">=</span> initial_elements</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__repr__</span>(<span class="va">self</span>):</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">str</span>(<span class="va">self</span>.data)</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> push(<span class="va">self</span>, element):</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.data.append(element)</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> pop(<span class="va">self</span>):</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>.data.pop()</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> peek(<span class="va">self</span>):</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="va">self</span>.data:</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="va">self</span>.data[<span class="op">-</span><span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="b792b958" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>stack <span class="op">=</span> Stack([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>])</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>stack</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>[1, 2, 3, 4]</code></pre>
</div>
</div>
<div id="f3b27f64" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>stack.push(<span class="dv">5</span>)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(stack)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1, 2, 3, 4, 5]</code></pre>
</div>
</div>
<div id="2024894b" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>stack.peek()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<pre><code>5</code></pre>
</div>
</div>
<div id="715abd79" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(stack)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1, 2, 3, 4, 5]</code></pre>
</div>
</div>
<div id="d6b42ad6" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>stack.pop()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>5</code></pre>
</div>
</div>
<div id="d4f7f50d" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(stack)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1, 2, 3, 4]</code></pre>
</div>
</div>
<p>The benefits of stacks, and other constrained data structures, are:</p>
<ol type="1">
<li>Prevent potential bugs when using certain algorithms. For example, an algorithm that relies on stacks may break if removing elements from the middle of the array, so using a standard array is more error-prone.</li>
<li>A new mental model for tackling problems. In the case of stacks, this is the LIFO approach.</li>
</ol>
<p>The concept of stacks is a useful precursor to recursion, as we push to and pop from the end of a stack.</p>
</section>
<section id="queues" class="level2">
<h2 class="anchored" data-anchor-id="queues">7. Queues</h2>
<p>A queue is conceptually similar to a stack - it is a constrained array. This time, it is First-In First-Out (FIFO) like a queue of people; the first person to arrive is the first to leave.</p>
<p>Queue restrictions:</p>
<ol type="1">
<li>Data can only be <strong>inserted</strong> at the <strong>end</strong> (enqueue)</li>
<li>Data can only be <strong>deleted</strong> from the <strong>front</strong> (dequeue)</li>
<li>Data can only be <strong>read</strong> from the <strong>front</strong> (peek)</li>
</ol>
<p>Points (2) and (3) are the opposite of the stack.</p>
<div id="0baf7b51" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Queue:</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, initial_elements: <span class="bu">list</span> <span class="op">=</span> []):</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>        <span class="co"># We can pass a list to initialise the Stack</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.data <span class="op">=</span> initial_elements</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__repr__</span>(<span class="va">self</span>):</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">str</span>(<span class="va">self</span>.data)</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> enqueue(<span class="va">self</span>, element):</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.data.append(element)</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> dequeue(<span class="va">self</span>):</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>.data.pop(<span class="dv">0</span>)</span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> peek(<span class="va">self</span>):</span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="va">self</span>.data:</span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="va">self</span>.data[<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="bbbdff9d" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>q <span class="op">=</span> Queue([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>])</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>q</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>[1, 2, 3, 4]</code></pre>
</div>
</div>
<div id="3746ed68" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>q.enqueue(<span class="dv">5</span>)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(q)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1, 2, 3, 4, 5]</code></pre>
</div>
</div>
<div id="685ce12b" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>q.dequeue()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<pre><code>1</code></pre>
</div>
</div>
<div id="c1eadd69" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(q)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[2, 3, 4, 5]</code></pre>
</div>
</div>
<div id="d03b5f01" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>q.peek()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<pre><code>2</code></pre>
</div>
</div>
<div id="f46443f6" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(q)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[2, 3, 4, 5]</code></pre>
</div>
</div>
</section>
<section id="linked-lists" class="level2">
<h2 class="anchored" data-anchor-id="linked-lists">8. Linked Lists</h2>
<p>A linked list represents a list of items as <strong>non-contiguous</strong> blocks of memory.</p>
<p>It is a list of items, similar to an array. But an array occupies a continuous block of memory.</p>
<table class="table">
<thead>
<tr class="header">
<th>Operation</th>
<th>Complexity (Worst)</th>
<th>Complexity (Best)*</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Read</td>
<td>O(N)</td>
<td>O(1)</td>
</tr>
<tr class="even">
<td>Search</td>
<td>O(N)</td>
<td>O(1)</td>
</tr>
<tr class="odd">
<td>Insertion</td>
<td>O(N)</td>
<td>O(1)</td>
</tr>
<tr class="even">
<td>Deletion</td>
<td>O(N)</td>
<td>O(1)</td>
</tr>
</tbody>
</table>
<p>The best case corresponds to operating on the head node.</p>
<p>In a linked list, each element is contained in a <strong>node</strong> that can be in scattered positions in memory. The node contains the data element and a “link” which is a pointer to the memory address of the next element.</p>
<p>Benefits of a linked list over an array:</p>
<ol type="1">
<li>Memory efficient: we don’t need a continuous block of memory</li>
<li><span class="math inline">\(O(1)\)</span> inserts and deletes from the beginning of the list</li>
<li>Useful when we want to traverse through a data structure while making inserts and deletes, because we do not have to shift the entire data structure each time as we would have to with an array</li>
</ol>
<p>A node contains two pieces of information:</p>
<table class="table">
<thead>
<tr class="header">
<th>Data</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>“a”</td>
<td>1666</td>
</tr>
</tbody>
</table>
<p>These nodes can then be linked together in a list… a linked list!</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart LR

  A("'a'|1666") --&gt; B("'b'|1984") --&gt; C("'c'|1066") --&gt; D("...") --&gt; E("'z'|null")

</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>The link of the last node is null to indicate the end of the list.</p>
<section id="implementating-a-node" class="level3">
<h3 class="anchored" data-anchor-id="implementating-a-node">8.1. Implementating a Node</h3>
<p>We first need a node data structure, which will hold our data and a link to the next node.</p>
<p>We’ll point to the next node itself, rather than its memory address. This still has the same effect as nodes are scattered throughout different memory locations.</p>
<div id="3bcf4f77" class="cell" data-execution_count="115">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Node:</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, data, link<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.data <span class="op">=</span> data</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.link <span class="op">=</span> link</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__repr__</span>(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"Data: </span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>data<span class="sc">}</span><span class="ch">\t</span><span class="ss">Link: </span><span class="ch">\n</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>link<span class="sc">}</span><span class="ss">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Create some nodes and link them together</p>
<div id="bbfaf9fa" class="cell" data-execution_count="116">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>node1 <span class="op">=</span> Node(<span class="st">"a"</span>)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>node2 <span class="op">=</span> Node(<span class="st">"b"</span>)</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>node3 <span class="op">=</span> Node(<span class="st">"c"</span>)</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>node4 <span class="op">=</span> Node(<span class="st">"d"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is what a single node looks like:</p>
<div id="fb6ae0a8" class="cell" data-execution_count="117">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(node1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Data: a Link: 
None</code></pre>
</div>
</div>
<p>Now we link them</p>
<div id="52a3240c" class="cell" data-execution_count="118">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>node1.link <span class="op">=</span> node2</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>node2.link <span class="op">=</span> node3</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>node3.link <span class="op">=</span> node4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="202fd66f" class="cell" data-execution_count="119">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>node1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="119">
<pre><code>Data: a Link: 
Data: b Link: 
Data: c Link: 
Data: d Link: 
None</code></pre>
</div>
</div>
</section>
<section id="implementing-a-linked-list" class="level3">
<h3 class="anchored" data-anchor-id="implementing-a-linked-list">8.2. Implementing a Linked List</h3>
<p>The linked list simply keeps track of the <strong>head</strong>, i.e.&nbsp;the first node in the list.</p>
<p>When using linked lists, we only have immediate access to this first node. For any other values, we need to start at the head node and traverse the list.</p>
<div id="302810b0" class="cell" data-execution_count="120">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> LinkedList:</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, head):</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.head <span class="op">=</span> head</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__repr__</span>(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">str</span>(<span class="va">self</span>.head)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="6e66cba0" class="cell" data-execution_count="121">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>ll <span class="op">=</span> LinkedList(node1)</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>ll</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="121">
<pre><code>Data: a Link: 
Data: b Link: 
Data: c Link: 
Data: d Link: 
None</code></pre>
</div>
</div>
</section>
<section id="reading-from-a-linked-list" class="level3">
<h3 class="anchored" data-anchor-id="reading-from-a-linked-list">8.3. Reading from a Linked List</h3>
<p>We start at the head an traverse the list until we reach the desired index.</p>
<p>This means they ar <span class="math inline">\(O(N)\)</span> in the worst case.</p>
<div id="f7f8f365" class="cell" data-execution_count="122">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> LinkedList:</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, head):</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.head <span class="op">=</span> head</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__repr__</span>(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">str</span>(<span class="va">self</span>.head)</span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> read(<span class="va">self</span>, index):</span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Read the node at the given index."""</span></span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a>        current_idx <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a>        current_node <span class="op">=</span> <span class="va">self</span>.head</span>
<span id="cb63-13"><a href="#cb63-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-14"><a href="#cb63-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">while</span> (index <span class="op">&gt;</span> current_idx):</span>
<span id="cb63-15"><a href="#cb63-15" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> current_node.link <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb63-16"><a href="#cb63-16" aria-hidden="true" tabindex="-1"></a>                <span class="co"># The index does not exist in the linked list, we have reached the end</span></span>
<span id="cb63-17"><a href="#cb63-17" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb63-18"><a href="#cb63-18" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb63-19"><a href="#cb63-19" aria-hidden="true" tabindex="-1"></a>            current_node <span class="op">=</span> current_node.link</span>
<span id="cb63-20"><a href="#cb63-20" aria-hidden="true" tabindex="-1"></a>            current_idx <span class="op">+=</span> <span class="dv">1</span>          </span>
<span id="cb63-21"><a href="#cb63-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-22"><a href="#cb63-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> current_node</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="8fdee59c" class="cell" data-execution_count="123">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>ll <span class="op">=</span> LinkedList(node1)</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>ll.read(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="123">
<pre><code>Data: c Link: 
Data: d Link: 
None</code></pre>
</div>
</div>
<div id="0f7f6988" class="cell" data-execution_count="124">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>ll.read(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="searching-a-linked-list" class="level3">
<h3 class="anchored" data-anchor-id="searching-a-linked-list">8.4. Searching a Linked List</h3>
<p>To search for a value, again we have to traverse the whole list.</p>
<p>This means the worst case complexity is <span class="math inline">\(O(N)\)</span>.</p>
<p>The mechanics of searching are the same as reading - we traverse the graph. The difference is we keep going until we find the value or reach the end of the list, rather than stopping at a predetermined index with <code>read</code>.</p>
<div id="2f9bf74e" class="cell" data-execution_count="125">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> LinkedList:</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, head):</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.head <span class="op">=</span> head</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__repr__</span>(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">str</span>(<span class="va">self</span>.head)</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> read(<span class="va">self</span>, index):</span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Read the node at the given index."""</span></span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Start at the head</span></span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>        current_idx <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a>        current_node <span class="op">=</span> <span class="va">self</span>.head</span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Traverse the list until we find the desired index</span></span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">while</span> (index <span class="op">&gt;</span> current_idx):</span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> current_node.link <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb67-18"><a href="#cb67-18" aria-hidden="true" tabindex="-1"></a>                <span class="co"># The index does not exist in the linked list, we have reached the end</span></span>
<span id="cb67-19"><a href="#cb67-19" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb67-20"><a href="#cb67-20" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb67-21"><a href="#cb67-21" aria-hidden="true" tabindex="-1"></a>            current_node <span class="op">=</span> current_node.link</span>
<span id="cb67-22"><a href="#cb67-22" aria-hidden="true" tabindex="-1"></a>            current_idx <span class="op">+=</span> <span class="dv">1</span>          </span>
<span id="cb67-23"><a href="#cb67-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-24"><a href="#cb67-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> current_node</span>
<span id="cb67-25"><a href="#cb67-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb67-26"><a href="#cb67-26" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> search(<span class="va">self</span>, value):</span>
<span id="cb67-27"><a href="#cb67-27" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Find the index of the given value."""</span></span>
<span id="cb67-28"><a href="#cb67-28" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Start at the head</span></span>
<span id="cb67-29"><a href="#cb67-29" aria-hidden="true" tabindex="-1"></a>        current_idx <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb67-30"><a href="#cb67-30" aria-hidden="true" tabindex="-1"></a>        current_node <span class="op">=</span> <span class="va">self</span>.head</span>
<span id="cb67-31"><a href="#cb67-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-32"><a href="#cb67-32" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Loop until we reach the None value which denotes the end of the list</span></span>
<span id="cb67-33"><a href="#cb67-33" aria-hidden="true" tabindex="-1"></a>        <span class="cf">while</span> current_node:</span>
<span id="cb67-34"><a href="#cb67-34" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> current_node.data <span class="op">==</span> value:</span>
<span id="cb67-35"><a href="#cb67-35" aria-hidden="true" tabindex="-1"></a>                <span class="co"># We've found our target value</span></span>
<span id="cb67-36"><a href="#cb67-36" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> current_idx</span>
<span id="cb67-37"><a href="#cb67-37" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Try the next node</span></span>
<span id="cb67-38"><a href="#cb67-38" aria-hidden="true" tabindex="-1"></a>            current_node <span class="op">=</span> current_node.link</span>
<span id="cb67-39"><a href="#cb67-39" aria-hidden="true" tabindex="-1"></a>            current_idx <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb67-40"><a href="#cb67-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-41"><a href="#cb67-41" aria-hidden="true" tabindex="-1"></a>        <span class="co"># We have traversed the whole list without finding a matching value</span></span>
<span id="cb67-42"><a href="#cb67-42" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="799e4c57" class="cell" data-execution_count="126">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>ll <span class="op">=</span> LinkedList(node1)</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>ll.search(<span class="st">'c'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="126">
<pre><code>2</code></pre>
</div>
</div>
</section>
<section id="inserting-into-a-linked-list" class="level3">
<h3 class="anchored" data-anchor-id="inserting-into-a-linked-list">8.5. Inserting into a Linked List</h3>
<p>Inserting a node into a linked list <strong>where we already have the current node</strong> is an <span class="math inline">\(O(1)\)</span> operation.</p>
<ol type="1">
<li><strong>Point to the next node</strong>. <code>new_node.link = current_node.link</code></li>
<li><strong>Link from the previous node</strong>. <code>current_node.link = new_node</code></li>
</ol>
<p>With a linked list, we only have the head node, so we can insert at the start in <span class="math inline">\(O(1)\)</span> time.</p>
<p>But to insert at any other point, we have to traverse there first (an <span class="math inline">\(O(N)\)</span> operation) and then do the insert.</p>
<p>This is the key point of linked lists: insertion at the beginning is <span class="math inline">\(O(1)\)</span> but at the end is <span class="math inline">\(O(N)\)</span>. This is the opposite of arrays, meaning linked lists are useful in cases where insertions are mostly at the beginning.</p>
<div id="65124fd0" class="cell" data-execution_count="127">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> LinkedList:</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, head):</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.head <span class="op">=</span> head</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__repr__</span>(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">str</span>(<span class="va">self</span>.head)</span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> read(<span class="va">self</span>, index):</span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Read the node at the given index."""</span></span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Start at the head</span></span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a>        current_idx <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb70-13"><a href="#cb70-13" aria-hidden="true" tabindex="-1"></a>        current_node <span class="op">=</span> <span class="va">self</span>.head</span>
<span id="cb70-14"><a href="#cb70-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-15"><a href="#cb70-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Traverse the list until we find the desired index</span></span>
<span id="cb70-16"><a href="#cb70-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">while</span> (index <span class="op">&gt;</span> current_idx):</span>
<span id="cb70-17"><a href="#cb70-17" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> current_node.link <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb70-18"><a href="#cb70-18" aria-hidden="true" tabindex="-1"></a>                <span class="co"># The index does not exist in the linked list, we have reached the end</span></span>
<span id="cb70-19"><a href="#cb70-19" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb70-20"><a href="#cb70-20" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb70-21"><a href="#cb70-21" aria-hidden="true" tabindex="-1"></a>            current_node <span class="op">=</span> current_node.link</span>
<span id="cb70-22"><a href="#cb70-22" aria-hidden="true" tabindex="-1"></a>            current_idx <span class="op">+=</span> <span class="dv">1</span>          </span>
<span id="cb70-23"><a href="#cb70-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-24"><a href="#cb70-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> current_node</span>
<span id="cb70-25"><a href="#cb70-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb70-26"><a href="#cb70-26" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> search(<span class="va">self</span>, value):</span>
<span id="cb70-27"><a href="#cb70-27" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Find the index of the given value."""</span></span>
<span id="cb70-28"><a href="#cb70-28" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Start at the head</span></span>
<span id="cb70-29"><a href="#cb70-29" aria-hidden="true" tabindex="-1"></a>        current_idx <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb70-30"><a href="#cb70-30" aria-hidden="true" tabindex="-1"></a>        current_node <span class="op">=</span> <span class="va">self</span>.head</span>
<span id="cb70-31"><a href="#cb70-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-32"><a href="#cb70-32" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Loop until we reach the None value which denotes the end of the list</span></span>
<span id="cb70-33"><a href="#cb70-33" aria-hidden="true" tabindex="-1"></a>        <span class="cf">while</span> current_node:</span>
<span id="cb70-34"><a href="#cb70-34" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> current_node.data <span class="op">==</span> value:</span>
<span id="cb70-35"><a href="#cb70-35" aria-hidden="true" tabindex="-1"></a>                <span class="co"># We've found our target value</span></span>
<span id="cb70-36"><a href="#cb70-36" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> current_idx</span>
<span id="cb70-37"><a href="#cb70-37" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Try the next node</span></span>
<span id="cb70-38"><a href="#cb70-38" aria-hidden="true" tabindex="-1"></a>            current_node <span class="op">=</span> current_node.link</span>
<span id="cb70-39"><a href="#cb70-39" aria-hidden="true" tabindex="-1"></a>            current_idx <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb70-40"><a href="#cb70-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-41"><a href="#cb70-41" aria-hidden="true" tabindex="-1"></a>        <span class="co"># We have traversed the whole list without finding a matching value</span></span>
<span id="cb70-42"><a href="#cb70-42" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb70-43"><a href="#cb70-43" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb70-44"><a href="#cb70-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-45"><a href="#cb70-45" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> insert(<span class="va">self</span>, value, index):</span>
<span id="cb70-46"><a href="#cb70-46" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Insert the value at the given index."""</span></span>
<span id="cb70-47"><a href="#cb70-47" aria-hidden="true" tabindex="-1"></a>        new_node <span class="op">=</span> Node(value)</span>
<span id="cb70-48"><a href="#cb70-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-49"><a href="#cb70-49" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> index <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb70-50"><a href="#cb70-50" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Link to the old head and update the linked lists head</span></span>
<span id="cb70-51"><a href="#cb70-51" aria-hidden="true" tabindex="-1"></a>            new_node.link <span class="op">=</span> <span class="va">self</span>.head</span>
<span id="cb70-52"><a href="#cb70-52" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.head <span class="op">=</span> new_node</span>
<span id="cb70-53"><a href="#cb70-53" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span></span>
<span id="cb70-54"><a href="#cb70-54" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb70-55"><a href="#cb70-55" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Traverse the linked list until we find our node</span></span>
<span id="cb70-56"><a href="#cb70-56" aria-hidden="true" tabindex="-1"></a>        current_node <span class="op">=</span> <span class="va">self</span>.head</span>
<span id="cb70-57"><a href="#cb70-57" aria-hidden="true" tabindex="-1"></a>        current_idx <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb70-58"><a href="#cb70-58" aria-hidden="true" tabindex="-1"></a>        <span class="cf">while</span> current_idx <span class="op">&lt;</span> index <span class="op">-</span> <span class="dv">1</span>:</span>
<span id="cb70-59"><a href="#cb70-59" aria-hidden="true" tabindex="-1"></a>            current_node <span class="op">=</span> current_node.link</span>
<span id="cb70-60"><a href="#cb70-60" aria-hidden="true" tabindex="-1"></a>            current_idx <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb70-61"><a href="#cb70-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-62"><a href="#cb70-62" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Update the links to insert the new node</span></span>
<span id="cb70-63"><a href="#cb70-63" aria-hidden="true" tabindex="-1"></a>        new_node.link <span class="op">=</span> current_node.link</span>
<span id="cb70-64"><a href="#cb70-64" aria-hidden="true" tabindex="-1"></a>        current_node.link <span class="op">=</span> new_node</span>
<span id="cb70-65"><a href="#cb70-65" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> </span>
<span id="cb70-66"><a href="#cb70-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-67"><a href="#cb70-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-68"><a href="#cb70-68" aria-hidden="true" tabindex="-1"></a>        </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Insert a new head of our linked list</p>
<div id="715a663a" class="cell" data-execution_count="128">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>ll <span class="op">=</span> LinkedList(node1)</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>ll</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="128">
<pre><code>Data: a Link: 
Data: b Link: 
Data: c Link: 
Data: d Link: 
None</code></pre>
</div>
</div>
<div id="0a7d80b0" class="cell" data-execution_count="129">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>ll.insert(<span class="st">'new_head'</span>, <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="f718e609" class="cell" data-execution_count="130">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>ll</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="130">
<pre><code>Data: new_head  Link: 
Data: a Link: 
Data: b Link: 
Data: c Link: 
Data: d Link: 
None</code></pre>
</div>
</div>
<p>Insert in the middle</p>
<div id="ff6f7ba2" class="cell" data-execution_count="131">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>ll.insert(<span class="st">"I'm new here"</span>, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="edc9b98f" class="cell" data-execution_count="132">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>ll</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="132">
<pre><code>Data: new_head  Link: 
Data: a Link: 
Data: b Link: 
Data: I'm new here  Link: 
Data: c Link: 
Data: d Link: 
None</code></pre>
</div>
</div>
</section>
<section id="deleting-from-a-linked-list" class="level3">
<h3 class="anchored" data-anchor-id="deleting-from-a-linked-list">8.6. Deleting from a Linked List</h3>
<p>It is quick to delete from the beginning of a linked list for the same reasons as insertion.</p>
<ol type="1">
<li>Make the previous node point to the next next node</li>
</ol>
<div id="7dc9f6d2" class="cell" data-execution_count="135">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> LinkedList:</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, head):</span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.head <span class="op">=</span> head</span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__repr__</span>(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">str</span>(<span class="va">self</span>.head)</span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> read(<span class="va">self</span>, index):</span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Read the node at the given index."""</span></span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Start at the head</span></span>
<span id="cb79-12"><a href="#cb79-12" aria-hidden="true" tabindex="-1"></a>        current_idx <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb79-13"><a href="#cb79-13" aria-hidden="true" tabindex="-1"></a>        current_node <span class="op">=</span> <span class="va">self</span>.head</span>
<span id="cb79-14"><a href="#cb79-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-15"><a href="#cb79-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Traverse the list until we find the desired index</span></span>
<span id="cb79-16"><a href="#cb79-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">while</span> (index <span class="op">&gt;</span> current_idx):</span>
<span id="cb79-17"><a href="#cb79-17" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> current_node.link <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb79-18"><a href="#cb79-18" aria-hidden="true" tabindex="-1"></a>                <span class="co"># The index does not exist in the linked list, we have reached the end</span></span>
<span id="cb79-19"><a href="#cb79-19" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb79-20"><a href="#cb79-20" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb79-21"><a href="#cb79-21" aria-hidden="true" tabindex="-1"></a>            current_node <span class="op">=</span> current_node.link</span>
<span id="cb79-22"><a href="#cb79-22" aria-hidden="true" tabindex="-1"></a>            current_idx <span class="op">+=</span> <span class="dv">1</span>          </span>
<span id="cb79-23"><a href="#cb79-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-24"><a href="#cb79-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> current_node</span>
<span id="cb79-25"><a href="#cb79-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb79-26"><a href="#cb79-26" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> search(<span class="va">self</span>, value):</span>
<span id="cb79-27"><a href="#cb79-27" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Find the index of the given value."""</span></span>
<span id="cb79-28"><a href="#cb79-28" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Start at the head</span></span>
<span id="cb79-29"><a href="#cb79-29" aria-hidden="true" tabindex="-1"></a>        current_idx <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb79-30"><a href="#cb79-30" aria-hidden="true" tabindex="-1"></a>        current_node <span class="op">=</span> <span class="va">self</span>.head</span>
<span id="cb79-31"><a href="#cb79-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-32"><a href="#cb79-32" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Loop until we reach the None value which denotes the end of the list</span></span>
<span id="cb79-33"><a href="#cb79-33" aria-hidden="true" tabindex="-1"></a>        <span class="cf">while</span> current_node:</span>
<span id="cb79-34"><a href="#cb79-34" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> current_node.data <span class="op">==</span> value:</span>
<span id="cb79-35"><a href="#cb79-35" aria-hidden="true" tabindex="-1"></a>                <span class="co"># We've found our target value</span></span>
<span id="cb79-36"><a href="#cb79-36" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> current_idx</span>
<span id="cb79-37"><a href="#cb79-37" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Try the next node</span></span>
<span id="cb79-38"><a href="#cb79-38" aria-hidden="true" tabindex="-1"></a>            current_node <span class="op">=</span> current_node.link</span>
<span id="cb79-39"><a href="#cb79-39" aria-hidden="true" tabindex="-1"></a>            current_idx <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb79-40"><a href="#cb79-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-41"><a href="#cb79-41" aria-hidden="true" tabindex="-1"></a>        <span class="co"># We have traversed the whole list without finding a matching value</span></span>
<span id="cb79-42"><a href="#cb79-42" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb79-43"><a href="#cb79-43" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb79-44"><a href="#cb79-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-45"><a href="#cb79-45" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> insert(<span class="va">self</span>, value, index):</span>
<span id="cb79-46"><a href="#cb79-46" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Insert the value at the given index."""</span></span>
<span id="cb79-47"><a href="#cb79-47" aria-hidden="true" tabindex="-1"></a>        new_node <span class="op">=</span> Node(value)</span>
<span id="cb79-48"><a href="#cb79-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-49"><a href="#cb79-49" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> index <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb79-50"><a href="#cb79-50" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Link to the old head and update the linked lists head</span></span>
<span id="cb79-51"><a href="#cb79-51" aria-hidden="true" tabindex="-1"></a>            new_node.link <span class="op">=</span> <span class="va">self</span>.head</span>
<span id="cb79-52"><a href="#cb79-52" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.head <span class="op">=</span> new_node</span>
<span id="cb79-53"><a href="#cb79-53" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span></span>
<span id="cb79-54"><a href="#cb79-54" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb79-55"><a href="#cb79-55" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Traverse the linked list until we find our node</span></span>
<span id="cb79-56"><a href="#cb79-56" aria-hidden="true" tabindex="-1"></a>        current_node <span class="op">=</span> <span class="va">self</span>.head</span>
<span id="cb79-57"><a href="#cb79-57" aria-hidden="true" tabindex="-1"></a>        current_idx <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb79-58"><a href="#cb79-58" aria-hidden="true" tabindex="-1"></a>        <span class="cf">while</span> current_idx <span class="op">&lt;</span> index <span class="op">-</span> <span class="dv">1</span>:</span>
<span id="cb79-59"><a href="#cb79-59" aria-hidden="true" tabindex="-1"></a>            current_node <span class="op">=</span> current_node.link</span>
<span id="cb79-60"><a href="#cb79-60" aria-hidden="true" tabindex="-1"></a>            current_idx <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb79-61"><a href="#cb79-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-62"><a href="#cb79-62" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Update the links to insert the new node</span></span>
<span id="cb79-63"><a href="#cb79-63" aria-hidden="true" tabindex="-1"></a>        new_node.link <span class="op">=</span> current_node.link</span>
<span id="cb79-64"><a href="#cb79-64" aria-hidden="true" tabindex="-1"></a>        current_node.link <span class="op">=</span> new_node</span>
<span id="cb79-65"><a href="#cb79-65" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> </span>
<span id="cb79-66"><a href="#cb79-66" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb79-67"><a href="#cb79-67" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> delete(<span class="va">self</span>, index):</span>
<span id="cb79-68"><a href="#cb79-68" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Delete the value at the given index."""</span></span>
<span id="cb79-69"><a href="#cb79-69" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> index <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb79-70"><a href="#cb79-70" aria-hidden="true" tabindex="-1"></a>            <span class="co"># We are deleting the head node, so point at the second node instead</span></span>
<span id="cb79-71"><a href="#cb79-71" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.head <span class="op">=</span> <span class="va">self</span>.head.link</span>
<span id="cb79-72"><a href="#cb79-72" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span></span>
<span id="cb79-73"><a href="#cb79-73" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb79-74"><a href="#cb79-74" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Traverse the linked list until we find our node</span></span>
<span id="cb79-75"><a href="#cb79-75" aria-hidden="true" tabindex="-1"></a>        current_node <span class="op">=</span> <span class="va">self</span>.head</span>
<span id="cb79-76"><a href="#cb79-76" aria-hidden="true" tabindex="-1"></a>        current_idx <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb79-77"><a href="#cb79-77" aria-hidden="true" tabindex="-1"></a>        <span class="cf">while</span> current_idx <span class="op">&lt;</span> index <span class="op">-</span> <span class="dv">1</span>:</span>
<span id="cb79-78"><a href="#cb79-78" aria-hidden="true" tabindex="-1"></a>            current_node <span class="op">=</span> current_node.link</span>
<span id="cb79-79"><a href="#cb79-79" aria-hidden="true" tabindex="-1"></a>            current_idx <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb79-80"><a href="#cb79-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-81"><a href="#cb79-81" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Skip the next node (which we are deleting) and point ot its link instead</span></span>
<span id="cb79-82"><a href="#cb79-82" aria-hidden="true" tabindex="-1"></a>        current_node.link <span class="op">=</span> current_node.link.link</span>
<span id="cb79-83"><a href="#cb79-83" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span>       </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="69bb3f4b" class="cell" data-execution_count="136">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>ll <span class="op">=</span> LinkedList(node1)</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>ll</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="136">
<pre><code>Data: a Link: 
Data: b Link: 
Data: I'm new here  Link: 
Data: c Link: 
Data: d Link: 
None</code></pre>
</div>
</div>
<p>Delete the head node</p>
<div id="72df01e1" class="cell" data-execution_count="137">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>ll.delete(<span class="dv">0</span>)</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(ll)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Data: b Link: 
Data: I'm new here  Link: 
Data: c Link: 
Data: d Link: 
None</code></pre>
</div>
</div>
<p>Delete a middle node</p>
<div id="71ef1431" class="cell" data-execution_count="138">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>ll.delete(<span class="dv">1</span>)</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(ll)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Data: b Link: 
Data: c Link: 
Data: d Link: 
None</code></pre>
</div>
</div>
</section>
<section id="doubly-linked-lists" class="level3">
<h3 class="anchored" data-anchor-id="doubly-linked-lists">8.7. Doubly Linked Lists</h3>
<p>A doubly linked list is a variant where each node contains pointers to the previous node and the next node.</p>
<table class="table">
<thead>
<tr class="header">
<th>Data</th>
<th>Previous</th>
<th>Next</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>“a”</td>
<td>null</td>
<td>1666</td>
</tr>
</tbody>
</table>
<p>The linked list tracks the head and tail.</p>
<p>This makes it quicker to read/insert/delete from either the beginning or end. We can also traverse backwards or forwards through the list.</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart LR

  A("'a'|null|1666") &lt;---&gt; B("'b'|1234|1984") &lt;--&gt; C("'c'|1666|1066") &lt;--&gt; D("...") &lt;--&gt; E("'z'|1993|null")

</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>Doubly linked lists are a good data structure to use for queues, since we can insert/delete at either end.</p>
</section>
</section>
<section id="binary-search-trees" class="level2">
<h2 class="anchored" data-anchor-id="binary-search-trees">9. Binary Search Trees</h2>
<p>We can have some use cases where we want to keep our data sorted.</p>
<p>Sorting is expensive, <span class="math inline">\(O(N log N)\)</span> at the best of times, so we want to avoid sorting often. Ideally we would keep our data sorted at all times. An ordered array <em>could</em> do the job, but insertions and deletions are slow as we have to shift a chunk over the array every time.</p>
<p>We want a data structure that:</p>
<ol type="1">
<li>Maintains order</li>
<li>Has fast inserts, deletes and search</li>
</ol>
<p>This is where a binary search tree comes in.</p>
<table class="table">
<thead>
<tr class="header">
<th>Operation</th>
<th>Complexity (Worst)*</th>
<th>Complexity (Best)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Read</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr class="even">
<td>Search</td>
<td>O(N)</td>
<td>O(log N)</td>
</tr>
<tr class="odd">
<td>Insertion</td>
<td>O(N)</td>
<td>O(log N)</td>
</tr>
<tr class="even">
<td>Deletion</td>
<td>O(N)</td>
<td>O(log N)</td>
</tr>
</tbody>
</table>
<p>*The worst case corresponds to an imbalanced tree that is essentailly a linked list (a straight line). The best case is a perfectly balanced tree.</p>
<section id="trees" class="level3">
<h3 class="anchored" data-anchor-id="trees">9.1. Trees</h3>
<p>Trees are another node-based data structure when each node can point to multiple other nodes.</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TD


  A(a) --&gt; B(b)
  A(a) --&gt; C(c)

  B(b) --&gt; D(d)
  B(b) --&gt; E(e)

  C(c) --&gt; F(f)
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<ul>
<li>The <strong>root</strong> is the uppermost node.</li>
<li><code>a</code> is the <strong>parent</strong> of <code>b</code> and <code>c</code>; <code>b</code> and <code>c</code> are <strong>children</strong> of <code>a</code>.</li>
<li>The <strong>descendants</strong> of a node are all of its children and its children’s children’s children etc. The <strong>ancestors</strong> of anode are its parents and its parent’s parent’s parents etc.</li>
<li>Each horizontal layer ofthe tree is a <strong>level</strong>.</li>
<li>A tree is <strong>balanced</strong> if all of its subtrees have the same number of nodes.</li>
</ul>
</section>
<section id="binary-search-tree-rules" class="level3">
<h3 class="anchored" data-anchor-id="binary-search-tree-rules">9.2. Binary Search Tree Rules</h3>
<p>A <strong>binary tree</strong> is one in which each node can have at most 2 children.</p>
<p>A <strong>binary search tree</strong>must abide by the following rules:</p>
<ol type="1">
<li>Each node can have at most one “left” child and one “right” child</li>
<li>A node’s left descendants are all smaller than the node. It’s right descendants are all larger.</li>
</ol>
</section>
<section id="implementation" class="level3">
<h3 class="anchored" data-anchor-id="implementation">9.3. Implementation</h3>
<div id="317e252e" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> TreeNode:</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, value, left<span class="op">=</span><span class="va">None</span>, right<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.value <span class="op">=</span> value</span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.left <span class="op">=</span> left</span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.right <span class="op">=</span> right</span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__repr__</span>(<span class="va">self</span>):</span>
<span id="cb86-9"><a href="#cb86-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"TreeNode with value: </span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>value<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb86-10"><a href="#cb86-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-11"><a href="#cb86-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-12"><a href="#cb86-12" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Tree: </span>
<span id="cb86-13"><a href="#cb86-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-14"><a href="#cb86-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, root_node):</span>
<span id="cb86-15"><a href="#cb86-15" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.root_node <span class="op">=</span> root_node</span>
<span id="cb86-16"><a href="#cb86-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-17"><a href="#cb86-17" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__repr__</span>(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb86-18"><a href="#cb86-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"Tree with root: </span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>root_node<span class="sc">}</span><span class="ss">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="4dc246e2" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>tree_node2 <span class="op">=</span> TreeNode(<span class="st">'b'</span>)</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>tree_node3 <span class="op">=</span> TreeNode(<span class="st">'c'</span>)</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>tree_node1 <span class="op">=</span> TreeNode(<span class="st">'a'</span>, tree_node2, tree_node3)</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>tree <span class="op">=</span> Tree(tree_node1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="1bcf8794" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>tree_node1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<pre><code>TreeNode with value: a</code></pre>
</div>
</div>
<div id="e541475f" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>tree_node1.left</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>TreeNode with value: b</code></pre>
</div>
</div>
<div id="57555ea9" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>tree_node1.right</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>TreeNode with value: c</code></pre>
</div>
</div>
<div id="6327fb3c" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>tree</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>Tree with root: TreeNode with value: a</code></pre>
</div>
</div>
</section>
<section id="searching-a-binary-search-tree" class="level3">
<h3 class="anchored" data-anchor-id="searching-a-binary-search-tree">9.4. Searching a Binary Search Tree</h3>
<ol type="1">
<li>Designate a current node (start with the root) and inspect its value.</li>
<li>If the current node is our target, success! Stop here.</li>
<li>If the current node is smaller than our target, search the left subtree. If it’s larger, search the right subtree.</li>
<li>Repeat until we find our target. If we reach the end of the subtree without finding the target, then the target is not in the tree.</li>
</ol>
</section>
<section id="complexity" class="level3">
<h3 class="anchored" data-anchor-id="complexity">9.5. Complexity</h3>
<p>Searching a binary search tree is <span class="math inline">\(O(log N)\)</span> in the best case (a perfectly balanced tree) since we narrow our search area by half on each step.</p>
<p>The worst case is a horribly imbalanced tree. Imagine a tree that only has left descendants. This is essentially a linked list, so searching through it means inspecting every element. Therefore the worst case complexity is <span class="math inline">\(O(N)\)</span>.</p>
<p>So searching a binary search tree is the same complexity as a binary search performed on an ordered array. Where trees differentiate themselves is on <strong>insertions and deletes</strong>.</p>
</section>
<section id="insertion" class="level3">
<h3 class="anchored" data-anchor-id="insertion">9.6. Insertion</h3>
<ol type="1">
<li>Compare our new_node to each value in the tree starting from the root. Like with search, follow the path to the left if new_node is lower or right if higher.</li>
<li>Traverse until we find a node where the appropriate child (left or right) does not exist yet. Make new_node the child.</li>
</ol>
<p>The <strong>order of insertion</strong> is important to maintain balance. Binary search trees work best when seeded with randomly sorted data, as this will typically end up quite well-balanced. Seeding the tree with <strong>sorted data leads to imbalanced trees</strong>.</p>
<p>Insertion is <span class="math inline">\(O(log N)\)</span> for balanced trees because we search for the correct place to insert and then perform an <span class="math inline">\(O(1)\)</span> operation to insert it.</p>
</section>
<section id="deletion" class="level3">
<h3 class="anchored" data-anchor-id="deletion">9.7. Deletion</h3>
<p>Deleting a node is more complicated because it depends if the target node has 0, 1 or 2 children.</p>
<table class="table">
<thead>
<tr class="header">
<th>Number of Children</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>Simply delete the node</td>
</tr>
<tr class="even">
<td>1</td>
<td>Replace the deleted node with its child</td>
</tr>
<tr class="odd">
<td>2</td>
<td>Replace the deleted node with the <strong>successor node</strong></td>
</tr>
</tbody>
</table>
<p>The <strong>successor node</strong> is the next largest descendant of the deleted node. More formally: the child node whose value is the least of all values that are greater than the deleted node.</p>
<p>Finding the successor:</p>
<ol type="1">
<li>Visit the right child of the deleted node.</li>
<li>Keep visiting left children until there are no more elft children. This is the successor node.</li>
<li>If the successor node has a right child, that child takes the original place of the successor node. The successor node gets moved to replace the deleted node.</li>
</ol>
<p>Deletion is <span class="math inline">\(O(log N)\)</span> for balanced trees because we search for the correct place to insert and then perform (potentially several) <span class="math inline">\(O(1)\)</span> operations to delete the node and replace it with a child / successor.</p>
</section>
<section id="inorder-traversal" class="level3">
<h3 class="anchored" data-anchor-id="inorder-traversal">9.8. Inorder Traversal</h3>
<p>The point of a binary search tree is to maintain order. We can traverse the elements in order with the following recursive algorithm.</p>
<ol type="1">
<li>Call itself recursively on the node’s left child. This will repeat until we hit a node without a left child.</li>
<li>Visit this node.</li>
<li>Call itself recursviely on the node’s right child.</li>
</ol>
<p>Since we are visiting every element of the tree, this is necessarily <span class="math inline">\(O(N)\)</span>.</p>
<div id="9bc4e626" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> traverse(tree_node):</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Inorder traversal of a binary search tree."""</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> tree_node <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span></span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>    traverse(tree_node.left)</span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(tree_node.value)</span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a>    traverse(tree_node.right)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>